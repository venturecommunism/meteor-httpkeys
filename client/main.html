<template name="servertest">
  <input type="button" value="Click" />
</template>

<template name="signup">
  <input name="submit" type="submit" class="button-primary"
          value="Register" />
</template>

<head>
  <title>Basic CoffeeScript Routing Example</title>
</head>

<body>
  <!-- empty body -->
</body>

<template name="layout">
        {{loginButtons align="left"}}
	<nav>
		<a href="{{pathFor 'home'}}">Home</a> |
		<a href="{{pathFor 'posts'}}">Posts</a> |
		<a href="{{pathFor 'dashboard'}}">DashBoard</a> |
                <a href="{{pathFor 'remoteboard'}}">Register</a>
	</nav>

	<header>
		{{yield "dashHeader"}}
                {{yield "remoteRegister"}}
	</header>

	{{yield}}
        {{>servertest}}
        {{>signup}}
        {{> posts_list}}
        {{> remote_posts_list}}
</template>

<template name="posts_list">
<h2>Local posts</h2>
  {{#each posts}}
    <div>{{body}}</div>
  {{/each}}
</template>

<template name="remote_posts_list">
<h2>Remote posts</h2>
  {{#each posts}}
    <div>{{body}}</div>
  {{/each}}
</template>


<template name="home">
	<h1>Home Page</h1>
</template>

<template name="users">
        {{#each users}}
                <a href="{{pathFor 'showKey'}}">
      <h2>
        {{username}}
      </h2>
    </a>
        {{/each}}
</template>

<template name="showKey">
{{#with user}}
<pre>
  {{public_key}}
</pre>
{{/with}}
</template>

<template name="posts">
	{{#each posts}}
		<a href="{{pathFor 'showPost'}}">
      <h2>
        {{title}}
      </h2>
    </a>
	{{/each}}	
</template>

<template name="showPost">
	{{#with post}}
		<h2>{{title}}</h2>
		<div>{{body}}</div>
                <div>{{submitted}}</div>
	{{/with}}
</template>

<template name="dashHeader">
	<h1>DashBoard Header</h1>
</template>

<template name="dashboard">
	{{#each posts}}
		<h2>{{title}}</h2>
	{{/each}}
</template>

<template name="remoteRegister">
        <h1>remoteRegister Header</h1>
        {{#if LoggedIn}}
        <p>{{callback}}</p>
        {{else}}
            <form id="login-form" action="action">
      <div>
        <input type="email" id="login-email" />
        <input type="password" id="login-password" />
        <input type="submit" id="login-button" value="Sign in" />
     </div>
   </form> 
        {{/if}}
</template>

<template name="remoteboard">
        {{#each posts}}
                <h2>{{title}}</h2>
        {{/each}}
</template>

<template name="notFound">
	<h1>This Page Does Not Exist!</h1>
</template>

<template name="loading">
	<h1>Wait For It...</h1>	
</template>
